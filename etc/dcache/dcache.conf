dcache.layout = mylayout
httpd.enable.forwarded-header = true
dcache.pid.dir = /var/run/dcache

# Allow bearer tokens when requests are forwarded over TLS by a reverse proxy
# (e.g. Caddy terminating TLS and forwarding via HTTP). This enables the
# webdav and frontend handlers to accept Bearer tokens when the proxy sets
# `X-Forwarded-Proto: https`.
webdav.macaroons.accept-over-unencrypted-channel = true
frontend.macaroons.accept-over-unencrypted-channel = true

# Move admin ssh port off the default 22224 to avoid collisions inside the container
admin.net.port = 22225

# Use external ZooKeeper container
dcache.zookeeper.connection=zookeeper:2181

# Chimera configuration
chimera.db.user=${DCACHE_DB_USERNAME}
chimera.db.password=${DCACHE_DB_PASSWORD}
chimera.db.host=${DCACHE_DB_HOST}
chimera.db.name=${DCACHE_DB_NAME}
chimera.db.port=${DCACHE_DB_PORT}
chimera.db.driver = ${DCACHE_DB_DRIVER}

chimerashell.db.host = ${chimera.db.host}
chimerashell.db.user = ${chimera.db.user}
chimerashell.db.password = ${chimera.db.password}
chimerashell.db.name = ${chimera.db.name}
chimerashell.db.port = ${chimera.db.port}
chimerashell.db.driver = ${chimera.db.driver}
